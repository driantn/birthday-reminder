import{u as v,a as D,c as U,o as S,b as h,d,s as w,t as $}from"./index.6aff17fd.js";import{g as N,L as _,s as f}from"./index.85c05e75.js";let u;const L=new Uint8Array(16);function I(){if(!u&&(u=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!u))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(L)}const n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));function R(e,t=0){return(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase()}const j=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),b={randomUUID:j};function C(e,t,a){if(b.randomUUID&&!t&&!e)return b.randomUUID();e=e||{};const r=e.random||(e.rng||I)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){a=a||0;for(let s=0;s<16;++s)t[a+s]=r[s];return t}return R(r)}const g=e=>(e?new Date(e):new Date).toLocaleDateString().replaceAll("/","-").split("-").reverse().concat().join("-"),E=$('<form class="flex flex-col gap-4"><label for="fname">First name:</label><input type="text" id="fname" name="firstName" class="border border-gray-400 rounded-md p-2"><label for="lname">Last name:</label><input type="text" id="lname" name="lastName" class="border border-gray-400 rounded-md p-2"><label for="bday">Choose the date</label><input type="date" id="bday" name="bday" class="border border-gray-400 rounded-md p-2"><input type="submit" value="Save" class="p-2 bg-blue-400 hover:bg-blue-500 rounded-md text-white font-bold cursor-pointer"></form>'),P=()=>{const e=v(),t=D(),[a,r]=U();S(async()=>{if(!e.id)return;const o=await N(e.id);r(o)});const s=o=>{o.preventDefault();const c=new FormData(o.target),i={...a(),...Object.fromEntries(c)};if(e.id||Object.assign(i,{id:C()}),!i.firstName||!i.lastName)return alert("Please fill the data");f(`${i.id}`,i),t("/")};return h(_,{get children(){const o=E.cloneNode(!0),c=o.firstChild,i=c.nextSibling,y=i.nextSibling,m=y.nextSibling,x=m.nextSibling,p=x.nextSibling;return o.addEventListener("submit",s),d(()=>w(p,"min",g())),d(()=>{var l;return i.value=((l=a())==null?void 0:l.firstName)||""}),d(()=>{var l;return m.value=((l=a())==null?void 0:l.lastName)||""}),d(()=>{var l;return p.value=((l=a())==null?void 0:l.bday)||g()}),o}})};export{P as default};
